// Autogenerated using npm run gen Skills
import ReactTable from 'react-table';
import 'react-table/react-table.css';
import styled from 'styled-components';
import PropTypes from 'prop-types';
import { connect } from 'react-redux';
import { setSkill } from '../data/actions.js';
// import PropTypes from 'prop-types';

function Skills(props) {
  const names = Object.keys(props.skills);
  const ranks = Object.values(props.skills);
  const skillsTable = [];
  names.forEach((name, index) => {
    skillsTable.push({
      name,
      ranks: ranks[index],
      modify: (
        <button
          type="button"
          className="btn btn-success"
          onClick={() => props.setSkill(name, ranks[index] + 1)}>
          Increase
        </button>
      ),
    });
  });
  const columns = [
    {
      Header: 'Matrix Action',
      accessor: 'name',
      style: { width: 'auto', height: 'auto', whiteSpace: 'normal' },
    },
    {
      Header: 'Ranks',
      accessor: 'ranks',
      style: { width: 'auto', height: 'auto', whiteSpace: 'normal' },
    },
    {
      Header: 'Modify',
      accessor: 'modify',
      style: { width: 'auto', height: 'auto', whiteSpace: 'normal' },
    },
  ];

  return (
    <Main className="">
      <ReactTable
        className="table table-sm bg-info -striped -highlight"
        data={skillsTable}
        columns={columns}
        resizable={false}
        filterable={true}
        minRows={0}
        defaultPageSize={100}
        showPagination={false}
        style={{
          width: 'auto',
          height: 'auto',
          wordWrap: 'normal',
        }}
      />
    </Main>
  );
}

Skills.propTypes = {
  skills: PropTypes.object,
  setSkill: PropTypes.func,
};

function mapStateToProps(state) {
  return {
    skills: state.skills,
  };
}

const mapDispatchToProps = { setSkill };

export default connect(
  mapStateToProps,
  mapDispatchToProps
)(Skills);

const Main = styled.div`
  background-color: white;
  font-family: Courier New;
  color: black;
  font-weight: normal;
  text-transform: capitalize;
`;
